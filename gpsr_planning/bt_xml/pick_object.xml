<root>
    <BehaviorTree ID="PickObject">
        <Action ID="MoveTo" is_truncated="true"  distance_tolerance="1.2" tf_frame="{location}"/>
        <RetryUntilSuccessful num_attempts="-1">
            <Condition ID="IsDetected" cam_frame="head_front_camera_link_color_optical_frame"
                                                   confidence="0.6"
                                                   frames="{frames}"
                                                   interest="{selected_class}"
                                                   max_depth="5"
                                                   max_entities="1"
                                                   order="depth"
                                                   best_detection="{best_detection}"/>
            <Action ID="ExtractObjectsFromScene" detected_objects="{detected_objects}" objects_count="{objects_count}"/>
            <Action ID="GenerateTextFromObjects" detected_objects="{detected_objects}" output_text="{out_msg}" selected_object="{selected_object}" />
        </RetryUntilSuccessful>
        <Action ID="Speak" say_text="I am detecting a " param="{out_msg}"/>
        <Action ID="Speak" say_text="Trying to pick it" param=""/>
        <RetryUntilSuccessful num_attempts="-1">
            <Action ID="ExtractCollisionScene" selected_object="{selected_object}"/>
        </RetryUntilSuccessful>
            <Action ID="PickObject" object_to_pick="{selected_object}"/>
    </BehaviorTree>
</root>